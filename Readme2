# Project: Explainable Physics-Guided Ensemble for Groundwater Vulnerability Mapping Under Climate Uncertainty

# ğŸ“ Folder Structure Overview

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# ğŸ“‚ groundwater\_ai\_project/

# â”œâ”€â”€ ğŸ“‚ data/

# â”‚   â”œâ”€â”€ raw/                       # GRACE, Sentinel, ERA5, CMIP6, etc.

# â”‚   â”œâ”€â”€ processed/                 # Aligned, cleaned inputs

# â”‚   â””â”€â”€ static/                    # Static vars like LULC, soil, DEM

# â”‚

# â”œâ”€â”€ ğŸ“‚ preprocessing/

# â”‚   â”œâ”€â”€ download\_data.py          # Downloader scripts

# â”‚   â”œâ”€â”€ resample\_regrid.py        # Harmonize spatial resolution

# â”‚   â”œâ”€â”€ sequence\_builder.py       # Time series builder for ConvLSTM

# â”‚   â””â”€â”€ feature\_engineering.py    # Combine static + dynamic vars

# â”‚

# â”œâ”€â”€ ğŸ“‚ models/

# â”‚   â”œâ”€â”€ convlstm\_model.py         # Spatiotemporal neural network

# â”‚   â”œâ”€â”€ rf\_model.py               # Random Forest with physics constraints

# â”‚   â”œâ”€â”€ xgboost\_model.py          # Optional ensemble member

# â”‚   â””â”€â”€ hybrid\_pipeline.py        # Full ensemble orchestrator

# â”‚

# â”œâ”€â”€ ğŸ“‚ training/

# â”‚   â”œâ”€â”€ train\_convlstm.py         # ConvLSTM trainer script

# â”‚   â”œâ”€â”€ train\_rf.py               # RF + SHAP model training

# â”‚   â””â”€â”€ ensemble\_trainer.py       # Combine models

# â”‚

# â”œâ”€â”€ ğŸ“‚ explainability/

# â”‚   â”œâ”€â”€ compute\_shap.py           # SHAP value calculation for RF

# â”‚   â”œâ”€â”€ compute\_shap\_dl.py        # SHAP or other methods for ConvLSTM

# â”‚   â””â”€â”€ shap\_to\_raster.py         # Turns SHAP values into spatial maps

# â”‚

# â”œâ”€â”€ ğŸ“‚ visualization/

# â”‚   â”œâ”€â”€ generate\_maps.py          # Risk maps, PNGs, GeoTIFFs

# â”‚   â””â”€â”€ dashboard.py              # Streamlit map explorer

# â”‚

# â”œâ”€â”€ ğŸ“‚ results/

# â”‚   â”œâ”€â”€ shap\_values\_rf.csv        # SHAP values from RF

# â”‚   â”œâ”€â”€ shap\_values\_dl.csv        # SHAP/attribution from ConvLSTM

# â”‚   â”œâ”€â”€ shap\_rasters/             # SHAP heatmaps

# â”‚   â”œâ”€â”€ convlstm\_predictions.nc   # NetCDF-style spatiotemporal output

# â”‚   â”œâ”€â”€ risk\_map\_ssp245\_2050.tif

# â”‚   â””â”€â”€ traffic\_light\_map.png     # PNG from predictions

# â”‚

# â”œâ”€â”€ requirements.txt           # All dependencies listed here

# â”œâ”€â”€ README.md                  # You are here.

# â”œâ”€â”€ proposal\_abstract.md       # Short concept write-up

# â”œâ”€â”€ convlstm\_model.py          # ConvLSTM model structure

# â”œâ”€â”€ sequence\_builder.py        # Data pipeline to sequence array

# â”œâ”€â”€ compute\_shap.py            # SHAP feature importance (RF)

# â”œâ”€â”€ compute\_shap\_dl.py         # SHAP/interpretability for ConvLSTM

# â”œâ”€â”€ shap\_to\_raster.py          # Rasterize feature importance

# â”œâ”€â”€ generate\_maps.py           # Risk PNG & GeoTIFF generator

# â””â”€â”€ dashboard.py               # Streamlit interface

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# ğŸ“– README.md

## ğŸŒ Project Title:

**Explainable Physics-Guided Ensemble for Groundwater Vulnerability Mapping Under Climate Uncertainty**

---

## ğŸ” What Is This?

A powerful machine learning pipeline that:

* Predicts groundwater vulnerability across space and time
* Explains what factors cause that risk (like drought, irrigation, or land use)
* Shows how that risk will evolve under future climate scenarios (e.g., SSP2-4.5, SSP5-8.5)
* Outputs maps and dashboards usable by scientists, policymakers, and planners

---

## ğŸ’¡ Why This Project Is Unique

| Feature                    | Our Work                               | Most Papers                    |
| -------------------------- | -------------------------------------- | ------------------------------ |
| Core Model                 | ConvLSTM + RF ensemble                 | Single model (RF or LSTM only) |
| Climate Future             | Uses CMIP6 SSP scenarios               | Only historical data           |
| Explainability             | SHAP for RF & DL + spatial maps        | No explainability              |
| Deployment-Ready Maps      | PNG + GeoTIFF + Web dashboard          | Static figures only            |
| Physics Integration        | Water-balance constraints in loss + RF | Pure data-driven only          |
| Uncertainty Quantification | Quantile RF + DL uncertainty           | Rarely addressed               |

---

## ğŸ§± Architecture Summary

```
Data In
â”‚
â”œâ”€â”€ Sentinel-2 NDVI, soil moisture
â”œâ”€â”€ ERA5 climate (temp, precip, evap)
â”œâ”€â”€ CMIP6 (SSP245, SSP585)
â”œâ”€â”€ GRACE/GLDAS for validation
â””â”€â”€ Static: LULC, DEM, aquifer types

â†“â†“
Preprocessing (resample â†’ align â†’ sequence)
â†“â†“
ConvLSTM â†’ predicts spatiotemporal groundwater
â†“â†“
Physics-Aware RF + Quantile Regression â†’ interpretable + uncertainty-aware risk
â†“â†“
SHAP for RF and DL â†’ feature attribution â†’ spatial maps
â†“â†“
GeoTIFF/PNG â†’ Web dashboard
```

---

## ğŸš€ How to Run

```bash
# Step 1: Setup
pip install -r requirements.txt

# Step 2: Prepare sequences
python preprocessing/sequence_builder.py

# Step 3: Train ConvLSTM
python training/train_convlstm.py

# Step 4: Train RF and SHAP
python training/train_rf.py
python explainability/compute_shap.py
python explainability/compute_shap_dl.py

# Step 5: Convert SHAP â†’ Rasters
python explainability/shap_to_raster.py

# Step 6: Generate maps
python visualization/generate_maps.py

# Step 7: Launch dashboard
streamlit run visualization/dashboard.py
```

---

## ğŸ“¦ Dependencies

* TensorFlow / Keras
* XGBoost / Scikit-learn
* SHAP
* Rasterio
* Matplotlib
* Streamlit
* NetCDF4
* scikit-garden (for quantile regression forests)

---

## ğŸ“¢ Contact

Iman Mahato <iman21@iiserbpr.ac.in>
Indian Institute of Science Education and Research (IISER) Berhampur
Collaborators: Prof. Deepak Mishra (IIST) & Dr. Pragnaditya Malakar

---
