# Project: Explainable Physics-Guided Ensemble for Groundwater Vulnerability Mapping Under Climate Uncertainty

# 📁 Folder Structure Overview

# ────────────────────────────────────────

# 📂 groundwater\_ai\_project/

# ├── 📂 data/

# │   ├── raw/                       # GRACE, Sentinel, ERA5, CMIP6, etc.

# │   ├── processed/                 # Aligned, cleaned inputs

# │   └── static/                    # Static vars like LULC, soil, DEM

# │

# ├── 📂 preprocessing/

# │   ├── download\_data.py          # Downloader scripts

# │   ├── resample\_regrid.py        # Harmonize spatial resolution

# │   ├── sequence\_builder.py       # Time series builder for ConvLSTM

# │   └── feature\_engineering.py    # Combine static + dynamic vars

# │

# ├── 📂 models/

# │   ├── convlstm\_model.py         # Spatiotemporal neural network

# │   ├── rf\_model.py               # Random Forest with physics constraints

# │   ├── xgboost\_model.py          # Optional ensemble member

# │   └── hybrid\_pipeline.py        # Full ensemble orchestrator

# │

# ├── 📂 training/

# │   ├── train\_convlstm.py         # ConvLSTM trainer script

# │   ├── train\_rf.py               # RF + SHAP model training

# │   └── ensemble\_trainer.py       # Combine models

# │

# ├── 📂 explainability/

# │   ├── compute\_shap.py           # SHAP value calculation for RF

# │   ├── compute\_shap\_dl.py        # SHAP or other methods for ConvLSTM

# │   └── shap\_to\_raster.py         # Turns SHAP values into spatial maps

# │

# ├── 📂 visualization/

# │   ├── generate\_maps.py          # Risk maps, PNGs, GeoTIFFs

# │   └── dashboard.py              # Streamlit map explorer

# │

# ├── 📂 results/

# │   ├── shap\_values\_rf.csv        # SHAP values from RF

# │   ├── shap\_values\_dl.csv        # SHAP/attribution from ConvLSTM

# │   ├── shap\_rasters/             # SHAP heatmaps

# │   ├── convlstm\_predictions.nc   # NetCDF-style spatiotemporal output

# │   ├── risk\_map\_ssp245\_2050.tif

# │   └── traffic\_light\_map.png     # PNG from predictions

# │

# ├── requirements.txt           # All dependencies listed here

# ├── README.md                  # You are here.

# ├── proposal\_abstract.md       # Short concept write-up

# ├── convlstm\_model.py          # ConvLSTM model structure

# ├── sequence\_builder.py        # Data pipeline to sequence array

# ├── compute\_shap.py            # SHAP feature importance (RF)

# ├── compute\_shap\_dl.py         # SHAP/interpretability for ConvLSTM

# ├── shap\_to\_raster.py          # Rasterize feature importance

# ├── generate\_maps.py           # Risk PNG & GeoTIFF generator

# └── dashboard.py               # Streamlit interface

# ────────────────────────────────────────

# 📖 README.md

## 🌍 Project Title:

**Explainable Physics-Guided Ensemble for Groundwater Vulnerability Mapping Under Climate Uncertainty**

---

## 🔎 What Is This?

A powerful machine learning pipeline that:

* Predicts groundwater vulnerability across space and time
* Explains what factors cause that risk (like drought, irrigation, or land use)
* Shows how that risk will evolve under future climate scenarios (e.g., SSP2-4.5, SSP5-8.5)
* Outputs maps and dashboards usable by scientists, policymakers, and planners

---

## 💡 Why This Project Is Unique

| Feature                    | Our Work                               | Most Papers                    |
| -------------------------- | -------------------------------------- | ------------------------------ |
| Core Model                 | ConvLSTM + RF ensemble                 | Single model (RF or LSTM only) |
| Climate Future             | Uses CMIP6 SSP scenarios               | Only historical data           |
| Explainability             | SHAP for RF & DL + spatial maps        | No explainability              |
| Deployment-Ready Maps      | PNG + GeoTIFF + Web dashboard          | Static figures only            |
| Physics Integration        | Water-balance constraints in loss + RF | Pure data-driven only          |
| Uncertainty Quantification | Quantile RF + DL uncertainty           | Rarely addressed               |

---

## 🧱 Architecture Summary

```
Data In
│
├── Sentinel-2 NDVI, soil moisture
├── ERA5 climate (temp, precip, evap)
├── CMIP6 (SSP245, SSP585)
├── GRACE/GLDAS for validation
└── Static: LULC, DEM, aquifer types

↓↓
Preprocessing (resample → align → sequence)
↓↓
ConvLSTM → predicts spatiotemporal groundwater
↓↓
Physics-Aware RF + Quantile Regression → interpretable + uncertainty-aware risk
↓↓
SHAP for RF and DL → feature attribution → spatial maps
↓↓
GeoTIFF/PNG → Web dashboard
```

---

## 🚀 How to Run

```bash
# Step 1: Setup
pip install -r requirements.txt

# Step 2: Prepare sequences
python preprocessing/sequence_builder.py

# Step 3: Train ConvLSTM
python training/train_convlstm.py

# Step 4: Train RF and SHAP
python training/train_rf.py
python explainability/compute_shap.py
python explainability/compute_shap_dl.py

# Step 5: Convert SHAP → Rasters
python explainability/shap_to_raster.py

# Step 6: Generate maps
python visualization/generate_maps.py

# Step 7: Launch dashboard
streamlit run visualization/dashboard.py
```

---

## 📦 Dependencies

* TensorFlow / Keras
* XGBoost / Scikit-learn
* SHAP
* Rasterio
* Matplotlib
* Streamlit
* NetCDF4
* scikit-garden (for quantile regression forests)

---

## 📢 Contact

Iman Mahato <iman21@iiserbpr.ac.in>
Indian Institute of Science Education and Research (IISER) Berhampur
Collaborators: Prof. Deepak Mishra (IIST) & Dr. Pragnaditya Malakar

---
